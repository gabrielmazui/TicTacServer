<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ChessServer</title>
  <link rel="icon" href="/static/favicon.ico">
  <link rel="stylesheet" href="static/home/css/style.css">
</head>
<body>

  <!-- OVERLAY DE CONFIRMAÃ‡ÃƒO -->
  <div id="overlay">
    <div class="modal">
      <button id="close-overlay" type="button">âœ•</button>
      <h2>Confirm Match</h2>
      <p>Do you want to create a new match?</p>
      <button id="confirm-create" type="button">Yes, Create Match</button>
    </div>
  </div>

  <div id="app">
    <header>
      <h1 id="logo">ChessServer</h1>

      <div id="user-area">
        <span id="username">{{ username }}</span>
        <button id="logout-btn">Sair</button>
      </div>

      <button id="create-server" type="button">+ Create server</button>
    </header>

    <main>
      <section>
        <h2>ğŸ® Running matches</h2>
        <div id="running-servers" class="server-list">
          {% if running_matches|length == 0 %}
          <div class="empty-message">The board is empty. Be the first to play!</div>
          {% else %}
            {% for s in running_matches %}
            <div class="server-card">
              <div class="server-info">
                <strong>{{ s.players }}</strong>
              </div>
              <div class="spectators">
                ğŸ‘ï¸ {{ s.spectators }} spectators
              </div>
              <div class="server-actions">
                <button class="watch-btn" data-id="{{ s.id }}">Watch</button>
              </div>
            </div>
            {% endfor %}
          {% endif %}
        </div>
      </section>

      <section>
        <h2>â³ Waiting for player</h2>
        <div id="waiting-servers" class="server-list">
          {% if waiting_matches|length == 0 %}
          <div class="empty-message">The room is calm. No players at the moment.</div>
          {% else %}
            {% for s in waiting_matches %}
            <div class="server-card">
              <div class="server-info">
                <strong>{{ s.player }} waiting for player</strong>
              </div>
              <div class="server-actions">
                <button class="join-btn" data-id="{{ s.id }}">Join</button>
              </div>
            </div>
            {% endfor %}
          {% endif %}
        </div>
      </section>
    </main>
  </div>

  <script src="static/home/js/script.js" defer></script>
</body>
</html>
